# 11. AI 개발 규칙 / Guardrails

## 상단 체크리스트
- [ ] 핵심 원칙 준수(성능/정확성/안전)
- [ ] 데이터/개인정보 보호
- [ ] RLS/권한 경계 유지

## 핵심 원칙
- 정확성 우선: 지리/좌표/요금 등 사실 데이터는 검증된 소스(우리 DB)만 사용
- 성능: 패널 응답 p95 1s 목표, 과도한 네트워크 호출 방지(디바운스/캐시)
- 간결함: 초기에 이미지는 배제, 텍스트 중심의 정보 가치 극대화

## 데이터/보안
- 사용자 식별정보 최소 수집(초기: id/pw/닉네임)
- 이후 차량번호/전화번호는 명시적 동의 화면 추가 후 수집
- 모든 쓰기 요청은 RLS로 user_id 검증

## 로깅/분석
- 개인식별 불가 이벤트 설계(가능하면 익명화)
- 주요 전환: 검색→상세→리뷰, helpful 토글

## 에러/복구
- API 실패 시 재시도(최대 1회, 지수백오프), 사용자에게 즉시 피드백
- 네트워크 오프라인 감지 시 오프라인 배너

## 품질 바
- 접근성 AA 준수, 키보드 내비게이션 지원
- 오류율 임계 초과 시 롤백/플래그 비활성화 절차 문서화

## 변경 관리
- 스키마/API 변경은 문서부터 갱신 → 구현 → 테스트 → 배포 순
- 문서와 구현의 불일치가 발생하면 구현을 문서에 맞춰 수정
